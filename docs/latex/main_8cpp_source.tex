\doxysection{main.\+cpp}
\hypertarget{main_8cpp_source}{}\label{main_8cpp_source}\index{/Users/jr722/lecture/acs-\/gerardium-\/rush-\/pentlandite/src/main.cpp@{/Users/jr722/lecture/acs-\/gerardium-\/rush-\/pentlandite/src/main.cpp}}
\mbox{\hyperlink{main_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <chrono>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_c_unit_8h}{CUnit.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_c_circuit_8h}{CCircuit.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_c_simulator_8h}{CSimulator.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_genetic_algorithm_8hpp}{GeneticAlgorithm.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00008}00008\ \textcolor{keyword}{static}\ \mbox{\hyperlink{struct_circuit___parameters}{Circuit\_Parameters}}\ parameter;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00010}\mbox{\hyperlink{struct_circuit_optimizer}{00010}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_circuit_optimizer}{CircuitOptimizer}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00011}00011\ \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00012}\mbox{\hyperlink{struct_circuit_optimizer_a194a90a13026087660f23ea3c7584065}{00012}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_circuit_optimizer_a194a90a13026087660f23ea3c7584065}{feeder}}\ =\ 4;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00013}\mbox{\hyperlink{struct_circuit_optimizer_ad09674132bb2b507bd0220e26a9a4f21}{00013}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_circuit_optimizer_ad09674132bb2b507bd0220e26a9a4f21}{num\_units}}\ =\ 5;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00014}00014\ \};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00016}\mbox{\hyperlink{main_8cpp_ab1218c68c9636270199a8bbd1d568463}{00016}}\ \mbox{\hyperlink{struct_circuit_optimizer}{CircuitOptimizer}}\ \mbox{\hyperlink{main_8cpp_ab1218c68c9636270199a8bbd1d568463}{myCircuit}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00018}\mbox{\hyperlink{main_8cpp_ac17c5ad57f975775fc2eeb5b1586abeb}{00018}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{main_8cpp_ac17c5ad57f975775fc2eeb5b1586abeb}{fitness}}(\textcolor{keyword}{const}\ std::vector<int>\ \&x)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00019}00019\ \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00020}00020\ \ \ \ \ std::vector<int>\ circuit\_vector(x.size()\ +\ 1);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00021}00021\ \ \ \ \ circuit\_vector[0]\ =\ \mbox{\hyperlink{main_8cpp_ab1218c68c9636270199a8bbd1d568463}{myCircuit}}.\mbox{\hyperlink{struct_circuit_optimizer_a194a90a13026087660f23ea3c7584065}{feeder}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00022}00022\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ x.size();\ ++i)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00023}00023\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00024}00024\ \ \ \ \ \ \ \ \ circuit\_vector[i\ +\ 1]\ =\ x[i];}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00025}00025\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00026}00026\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_c_simulator_8cpp_a7e4678796fe4df1ca29d64c987d90ed6}{Evaluate\_Circuit}}(circuit\_vector,\ parameter);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00027}00027\ \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00029}\mbox{\hyperlink{main_8cpp_a00e1c393a651c9c6ffc71bc0a6c16910}{00029}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{main_8cpp_a00e1c393a651c9c6ffc71bc0a6c16910}{validity}}(\textcolor{keyword}{const}\ std::vector<int>\ \&x)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00030}00030\ \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00031}00031\ \ \ \ \ std::vector<int>\ circuit\_vector(x.size()\ +\ 1);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00032}00032\ \ \ \ \ circuit\_vector[0]\ =\ \mbox{\hyperlink{main_8cpp_ab1218c68c9636270199a8bbd1d568463}{myCircuit}}.\mbox{\hyperlink{struct_circuit_optimizer_a194a90a13026087660f23ea3c7584065}{feeder}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00033}00033\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ x.size();\ ++i)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00034}00034\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00035}00035\ \ \ \ \ \ \ \ \ circuit\_vector[i\ +\ 1]\ =\ x[i];}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00036}00036\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00038}00038\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_circuit_ad3a0bded22f5818ec068a742b0c7d69f}{Circuit::Check\_Validity}}(circuit\_vector);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00039}00039\ \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00041}\mbox{\hyperlink{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{00041}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}}()}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00042}00042\ \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00043}00043\ \textcolor{comment}{\ \ \ \ /****************************\ \ Analysis\ Settings\ ******************************/}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00044}00044\ \ \ \ \ \textcolor{comment}{//\ Setup\ the\ circuit\ parameters}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00045}00045\ \ \ \ \ parameter.\mbox{\hyperlink{struct_circuit___parameters_a50889dd79f1c47fd714519733007b6dd}{input\_Fger}}\ =\ 10.0;\ \ \ \ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00046}00046\ \ \ \ \ parameter.\mbox{\hyperlink{struct_circuit___parameters_ab951816f15da9a6dade1226c4be09930}{input\_Fwaste}}\ =\ 100.0;\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00047}00047\ \ \ \ \ parameter.\mbox{\hyperlink{struct_circuit___parameters_af8b2c0f89171956dec9004b99187593c}{get\_money}}\ =\ 100.0;\ \ \ \ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00048}00048\ \ \ \ \ parameter.\mbox{\hyperlink{struct_circuit___parameters_a4ee4e733fa29743db2800af4418b4507}{lose\_money}}\ =\ 500.0;\ \ \ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00050}00050\ \ \ \ \ \textcolor{comment}{//\ Setup\ the\ GA}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00051}00051\ \ \ \ \ \textcolor{keywordtype}{int}\ POP\_SIZE\ =\ 300;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00052}00052\ \ \ \ \ \textcolor{keywordtype}{int}\ MAX\_GENERATION\ =\ 500;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00053}00053\ \ \ \ \ \textcolor{keywordtype}{double}\ CROSSOVER\_RATE\ =\ 0.9;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00054}00054\ \ \ \ \ \textcolor{keywordtype}{double}\ MUTATION\_RATE\ =\ 0.2;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00055}00055\ \ \ \ \ \textcolor{keywordtype}{int}\ CONV\_GEN\ =\ 100;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00056}00056\ \ \ \ \ \mbox{\hyperlink{_genetic_algorithm_8hpp_ac52d546ccaf78f582c8099dbd7f2c8af}{CrossoverType}}\ type\ =\ \mbox{\hyperlink{_genetic_algorithm_8hpp_ac52d546ccaf78f582c8099dbd7f2c8afac9fab5dc5978bcb2b00f04828856b445}{CrossoverType::ONE\_PT}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00057}00057\ \textcolor{comment}{\ \ \ \ /*********************************************************************************/}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00059}00059\ \ \ \ \ \textcolor{comment}{//\ Setup\ the\ cicuit\ optimiser}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00060}00060\ \ \ \ \ \mbox{\hyperlink{struct_circuit_optimizer}{CircuitOptimizer}}\ \mbox{\hyperlink{main_8cpp_ab1218c68c9636270199a8bbd1d568463}{myCircuit}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00062}00062\ \ \ \ \ \textcolor{comment}{//\ Don't\ change\ these}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00063}00063\ \ \ \ \ \textcolor{keywordtype}{int}\ CHROMOSOME\_SIZE\ =\ 2\ *\ \mbox{\hyperlink{main_8cpp_ab1218c68c9636270199a8bbd1d568463}{myCircuit}}.\mbox{\hyperlink{struct_circuit_optimizer_ad09674132bb2b507bd0220e26a9a4f21}{num\_units}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00064}00064\ \ \ \ \ \textcolor{keywordtype}{int}\ CHROMOMIN\ =\ 0;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00065}00065\ \ \ \ \ \textcolor{keywordtype}{int}\ CHROMOMAX\ =\ \mbox{\hyperlink{main_8cpp_ab1218c68c9636270199a8bbd1d568463}{myCircuit}}.\mbox{\hyperlink{struct_circuit_optimizer_ad09674132bb2b507bd0220e26a9a4f21}{num\_units}}\ +\ 2;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00067}00067\ \ \ \ \ \mbox{\hyperlink{class_g_a}{GA<int>}}\ ga(POP\_SIZE,\ CHROMOSOME\_SIZE,\ CHROMOMIN,\ CHROMOMAX,\ MAX\_GENERATION,\ CROSSOVER\_RATE,\ MUTATION\_RATE);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00068}00068\ \ \ \ \ ga.\mbox{\hyperlink{class_g_a_a02324bd6c1c057970b5edba5d556e34b}{CONV\_GEN}}\ =\ CONV\_GEN;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00069}00069\ \ \ \ \ ga.\mbox{\hyperlink{class_g_a_a4361eec0fa9ac7456e85c8ee0975ebdd}{setFitness}}(\mbox{\hyperlink{main_8cpp_ac17c5ad57f975775fc2eeb5b1586abeb}{fitness}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00070}00070\ \ \ \ \ ga.\mbox{\hyperlink{class_g_a_a05091b3dba2263bfc564ab5caef95751}{setValidity}}(\mbox{\hyperlink{main_8cpp_a00e1c393a651c9c6ffc71bc0a6c16910}{validity}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00071}00071\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00072}00072\ \ \ \ \ \textcolor{keyword}{auto}\ start\ =\ std::chrono::high\_resolution\_clock::now();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00073}00073\ \ \ \ \ \textcolor{keyword}{auto}\ bestIndividual\ =\ ga.\mbox{\hyperlink{class_g_a_a26734e009defb92717076a3fe7815a02}{optimize}}(type);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00074}00074\ \ \ \ \ \textcolor{keyword}{auto}\ end\ =\ std::chrono::high\_resolution\_clock::now();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00076}00076\ \ \ \ \ std::chrono::duration<double>\ elapsed\ =\ end\ -\/\ start;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00077}00077\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Time\ taken:\ "{}}\ <<\ elapsed.count()\ <<\ \textcolor{stringliteral}{"{}s\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00079}00079\ \ \ \ \ ga.\mbox{\hyperlink{class_g_a_acb82721baa3c231b09aadea4ea9c55b3}{toFile}}(\textcolor{stringliteral}{"{}../out/"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00081}00081\ \ \ \ \ std::vector<int>\ bestCircuitVector\ =\ bestIndividual.chromosome;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00082}00082\ \ \ \ \ bestCircuitVector.insert(bestCircuitVector.begin(),\ \mbox{\hyperlink{main_8cpp_ab1218c68c9636270199a8bbd1d568463}{myCircuit}}.\mbox{\hyperlink{struct_circuit_optimizer_a194a90a13026087660f23ea3c7584065}{feeder}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00084}00084\ \ \ \ \ \mbox{\hyperlink{class_circuit}{Circuit}}\ bestCircuit(bestCircuitVector);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00086}00086\ \ \ \ \ bestCircuit.\mbox{\hyperlink{class_circuit_a108c8fbee9bd02bb7af2648b877d5f09}{toFile}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00088}00088\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00089}00089\ \}}

\end{DoxyCode}
